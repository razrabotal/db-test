import{S as t,i as s,s as o,e as a,t as e,c as l,a as n,g as c,d,b as r,f as i,E as h,h as f,k as u,n as p,H as b,I as v,G as g,J as m,K as x}from"../chunks/vendor-9177ee6c.js";function y(t,s,o){const a=t.slice();return a[6]=s[o],a}function E(t){var s;let o,u,p=(null==(s=t[6])?void 0:s.text)+"";return{c(){o=a("div"),u=e(p),this.h()},l(t){o=l(t,"DIV",{class:!0});var s=n(o);u=c(s,p),s.forEach(d),this.h()},h(){r(o,"class"," bg-gray-100 p-3 rounded-md mb-2")},m(t,s){i(t,o,s),h(o,u)},p(t,s){var o;2&s&&p!==(p=(null==(o=t[6])?void 0:o.text)+"")&&f(u,p)},d(t){t&&d(o)}}}function T(t){let s,o,f,T,I,A,j,k,w,D,H,N,O,S,V,J,P=t[1],U=[];for(let a=0;a<P.length;a+=1)U[a]=E(y(t,P,a));return{c(){s=a("h2"),o=e("Add todo"),f=u(),T=a("div"),I=a("input"),A=u(),j=a("button"),k=e("Add"),D=u(),H=a("div"),N=a("h2"),O=e("Todo list"),S=u();for(let t=0;t<U.length;t+=1)U[t].c();this.h()},l(t){s=l(t,"H2",{class:!0});var a=n(s);o=c(a,"Add todo"),a.forEach(d),f=p(t),T=l(t,"DIV",{class:!0});var e=n(T);I=l(e,"INPUT",{class:!0,type:!0}),A=p(e),j=l(e,"BUTTON",{disabled:!0,class:!0});var r=n(j);k=c(r,"Add"),r.forEach(d),e.forEach(d),D=p(t),H=l(t,"DIV",{class:!0});var i=n(H);N=l(i,"H2",{class:!0});var h=n(N);O=c(h,"Todo list"),h.forEach(d),S=p(i);for(let s=0;s<U.length;s+=1)U[s].l(i);i.forEach(d),this.h()},h(){r(s,"class","text-lg font-bold mb-2"),r(I,"class","border-2 p-2"),r(I,"type","text"),j.disabled=w=""===t[0].trim(),r(j,"class","py-2 px-4 bg-blue-700 text-white"),r(T,"class","mb-5"),r(N,"class","text-lg font-bold mb-2"),r(H,"class","list")},m(a,e){i(a,s,e),h(s,o),i(a,f,e),i(a,T,e),h(T,I),b(I,t[0]),h(T,A),h(T,j),h(j,k),i(a,D,e),i(a,H,e),h(H,N),h(N,O),h(H,S);for(let t=0;t<U.length;t+=1)U[t].m(H,null);V||(J=[v(I,"input",t[4]),v(j,"click",t[2])],V=!0)},p(t,[s]){if(1&s&&I.value!==t[0]&&b(I,t[0]),1&s&&w!==(w=""===t[0].trim())&&(j.disabled=w),2&s){let o;for(P=t[1],o=0;o<P.length;o+=1){const a=y(t,P,o);U[o]?U[o].p(a,s):(U[o]=E(a),U[o].c(),U[o].m(H,null))}for(;o<U.length;o+=1)U[o].d(1);U.length=P.length}},i:g,o:g,d(t){t&&d(s),t&&d(f),t&&d(T),t&&d(D),t&&d(H),m(U,t),V=!1,x(J)}}}async function I({fetch:t}){const s=await t("/todos");return{props:{todos:(await s.json()).todos}}}function A(t,s,o){let{todos:a}=s,e="",l=a;return t.$$set=t=>{"todos"in t&&o(3,a=t.todos)},[e,l,function(){const t={text:e,completed:!1};fetch("/todos",{method:"POST",body:JSON.stringify(t)}).then((()=>{fetch("/todos").then((t=>t.json())).then((t=>o(1,l=t.todos)))}))},a,function(){e=this.value,o(0,e)}]}export default class extends t{constructor(t){super(),s(this,t,A,T,o,{todos:3})}}export{I as load};
